# ===================================================================
# Mishkah Engine Configuration
# ===================================================================

# Node.js Server
HOST=0.0.0.0
PORT=3200
NODE_ENV=development

# Branch & Module Defaults
DEFAULT_BRANCH_ID=pt
DEFAULT_MODULE_ID=clinic

# ===================================================================
# C++ Engine Connection
# ===================================================================
CPP_ENGINE_ENABLED=false
CPP_ENGINE_HOST=127.0.0.1
CPP_ENGINE_PORT=8080
CPP_ENGINE_TIMEOUT=5000

# ===================================================================
# Security - Inter-Service Authentication
# ===================================================================
# ⚠️ CRITICAL: Change this secret in production!
# Generate a strong secret: openssl rand -hex 32
INTER_SERVICE_SECRET=CHANGE_THIS_IN_PRODUCTION_USE_STRONG_SECRET

# ===================================================================
# Authentication Layer
# ===================================================================
ENABLE_AUTH_LAYER=false
SESSION_TTL_MS=86400000

# Demo Auth (for testing only)
DEMO_AUTH_API_KEY=demo-auth-key
DEMO_AUTH_SECRET=demo-auth-secret
DEMO_AUTH_EMERGENCY_PASSWORD=demo-emergency-override

# ===================================================================
# Circuit Breaker Configuration
# ===================================================================
CPP_ENGINE_FAILURE_THRESHOLD=5
CPP_ENGINE_RECOVERY_TIME=30000

# ===================================================================
# Retry Logic
# ===================================================================
CPP_ENGINE_RETRY_COUNT=3
CPP_ENGINE_RETRY_DELAY=1000

# ===================================================================
# Database
# ===================================================================
# SQLite (Local/Node.js)
SQLITE_PATH=./data/live.db

# PostgreSQL (C++ Engine - if using shared session validation)
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=mishkah_engine
# DB_USER=postgres
# DB_PASSWORD=your_password

# ===================================================================
# Logging & Monitoring
# ===================================================================
LOG_LEVEL=info
ENABLE_METRICS=true

# ===================================================================
# Development Tools
# ===================================================================
WS2_DEV_MODE=development
RESEED_PASSPHRASE=your-reseed-passphrase
